import{a as P}from"./chunk-XDF72XJA.js";import{a as I,b as m,c as E,d as F,e as V,f as A,g as j,h as D,i as H,j as T,k as J,m as K,n as L}from"./chunk-THO453NJ.js";import{Aa as M,Ca as k,Ea as N,F as s,G as d,J as p,N as C,O as n,P as a,Q as u,R as y,S,T as v,V as c,W as b,Z as f,_ as h,d as B,ja as U,ka as z,m as R,ma as $,q,t as _,u as G,x,y as w}from"./chunk-ONHGRJAC.js";function ne(t,e){if(t&1){let l=v();y(0),n(1,"app-error",10),c("close",function(){let o=x(l).index,g=b();return w(g.close(o))}),a(),S()}if(t&2){let l=e.$implicit;s(1),p("msg",l)}}var Z=(()=>{let e=class e{get email(){return this.formUser.get("email")}get password(){return this.formUser.get("password")}constructor(r,i,o){this.fb=r,this.auth=i,this.router=o,this.errors=[],this.formUser=this.fb.group({email:["",[m.email,m.required]],password:["",m.required]})}close(r){this.errors=this.errors.filter((i,o)=>o!==r)}upload(){this.errors=[],this.formUser.valid?this.auth.login(this.formUser.get("email")?.value,this.formUser.get("password")?.value).subscribe({next:r=>{console.log(r)},error:r=>{console.error(r),this.errors.push("Error when try to connect")},complete:()=>{this.router.navigateByUrl("/"),this.formUser.reset()}}):(this.email.errors?.email&&this.errors.push("Email must be like user@example"),this.email.errors?.required&&this.errors.push("Add an email"),this.password.invalid&&this.errors.push("Add a password"))}};e.\u0275fac=function(i){return new(i||e)(d(D),d(N),d(M))},e.\u0275cmp=_({type:e,selectors:[["app-signin"]],hostAttrs:[1,"flex","flex-wrap","w-full","sm:w-[calc(100%-5rem)]","content-start","mx-auto","px-10","pb-6"],decls:12,vars:4,consts:[[4,"ngFor","ngForOf"],[1,"relative","max-w-sm","bg-white","px-8","pt-5","mx-auto","mt-4","rounded-lg","border-8","border-greenl"],[1,"absolute","w-full","h-full","rounded-lg","border-8","border-purple","z-[-1]"],[1,"pb-6","text-xl","font-semibold","text-greenl"],[1,"pb-6",3,"formGroup","ngSubmit"],["type","email","formControlName","email","placeholder","Email",1,"w-full","border-b-4","border-greenl","px-2","py-1","mb-3","outline-none","focus:border-purple"],["type","password","formControlName","password","placeholder","Password",1,"w-full","border-b-4","border-greenl","px-2","py-1","mb-3","outline-none","focus:border-purple"],[1,"relative","w-full"],[1,"absolute","w-full","h-full","rounded-lg","border-4","border-purple","inset-x-[10px]","inset-y-[5px]"],["type","submit",1,"relative","w-full","bg-white","rounded-lg","border-4","border-greenl","px-3","py-2","font-semibold","text-greenl","active:inset-x-[10px]","active:inset-y-[5px]"],[3,"msg","close"]],template:function(i,o){i&1&&(C(0,ne,2,1,"ng-container",0),n(1,"section",1),u(2,"div",2),n(3,"h2",3),f(4),a(),n(5,"form",4),c("ngSubmit",function(){return o.upload()}),u(6,"input",5)(7,"input",6),n(8,"div",7),u(9,"div",8),n(10,"button",9),f(11),a()()()()),i&2&&(p("ngForOf",o.errors),s(4),h("Account loggin"),s(1),p("formGroup",o.formUser),s(6),h("SignIn"))},dependencies:[U,T,V,I,E,F,A,j]});let t=e;return t})();function ee(){return t=>t.value.password1===t.value.password2?null:{PasswordNoMatch:!0}}function se(t,e){if(t&1){let l=v();y(0),n(1,"app-error",12),c("close",function(){let o=x(l).index,g=b();return w(g.close(o))}),a(),S()}if(t&2){let l=e.$implicit;s(1),p("msg",l)}}var re=(()=>{let e=class e{get user(){return this.formUser.get("user")}get email(){return this.formUser.get("email")}get password1(){return this.formUser.get("password1")}get password2(){return this.formUser.get("password2")}constructor(r,i,o){this.fb=r,this.auth=i,this.router=o,this.errors=[],this.formUser=this.fb.group({user:["",m.required],email:["",[m.email,m.required]],password1:["",m.required],password2:["",m.required]})}ngOnInit(){this.formUser.setValidators(ee())}close(r){this.errors=this.errors.filter((i,o)=>o!==r)}upload(){this.errors=[],this.formUser.valid?this.auth.signup(this.user.value,this.email.value,this.password1.value).subscribe({next:r=>{console.log(r)},error:r=>{console.error(r),this.errors.push("Error when try to connect")},complete:()=>{this.router.navigateByUrl("/"),this.formUser.reset()}}):(this.user.errors?.required&&this.errors.push("Add an user name"),this.email.errors?.email&&this.errors.push("Email must be like user@example"),this.email.errors?.required&&this.errors.push("Add an email"),this.password1.errors?.required&&this.errors.push("Add a password"),this.password2.errors?.required&&this.password1.valid&&this.errors.push("Confirm the password"),this.formUser.errors?.PasswordNoMatch&&this.password1.valid&&this.password2.valid&&this.errors.push("The passwords don't match"))}};e.\u0275fac=function(i){return new(i||e)(d(D),d(N),d(M))},e.\u0275cmp=_({type:e,selectors:[["app-signup"]],hostAttrs:[1,"flex","flex-wrap","w-full","sm:w-[calc(100%-5rem)]","content-start","mx-auto","px-10","pb-6"],decls:14,vars:4,consts:[[4,"ngFor","ngForOf"],[1,"relative","max-w-sm","bg-white","px-8","pt-5","mx-auto","mt-4","rounded-lg","border-8","border-greenl"],[1,"absolute","w-full","h-full","rounded-lg","border-8","border-purple","z-[-1]"],[1,"pb-6","text-xl","font-semibold","text-greenl"],["id","form-post",1,"pb-6",3,"formGroup","ngSubmit"],["type","text","formControlName","user","placeholder","User name",1,"w-full","border-b-4","border-greenl","px-2","py-1","mb-3","outline-none","focus:border-purple"],["type","email","formControlName","email","placeholder","Email",1,"w-full","border-b-4","border-greenl","px-2","py-1","mb-3","outline-none","focus:border-purple"],["type","password","formControlName","password1","placeholder","Password",1,"w-full","border-b-4","border-greenl","px-2","py-1","mb-3","outline-none","focus:border-purple"],["type","password","formControlName","password2","placeholder","Repeat password",1,"w-full","border-b-4","border-greenl","px-2","py-1","mb-3","outline-none","focus:border-purple"],[1,"relative","w-full"],[1,"absolute","w-full","h-full","rounded-lg","border-4","border-purple","inset-x-[10px]","inset-y-[5px]"],["type","submit",1,"relative","w-full","bg-white","rounded-lg","border-4","border-greenl","px-3","py-2","font-semibold","text-greenl","active:inset-x-[10px]","active:inset-y-[5px]"],[3,"msg","close"]],template:function(i,o){i&1&&(C(0,se,2,1,"ng-container",0),n(1,"section",1),u(2,"div",2),n(3,"h2",3),f(4),a(),n(5,"form",4),c("ngSubmit",function(){return o.upload()}),u(6,"input",5)(7,"input",6)(8,"input",7)(9,"input",8),n(10,"div",9),u(11,"div",10),n(12,"button",11),f(13),a()()()()),i&2&&(p("ngForOf",o.errors),s(4),h("Account Register"),s(1),p("formGroup",o.formUser),s(8),h("SignUp"))},dependencies:[U,T,V,I,E,F,A,j]});let t=e;return t})();function le(t,e){if(t&1){let l=v();y(0),n(1,"app-error",11),c("close",function(){let o=x(l).index,g=b();return w(g.close(o))}),a(),S()}if(t&2){let l=e.$implicit;s(1),p("msg",l)}}function ae(t,e){if(t&1){let l=v();n(0,"div",12)(1,"p",13),f(2),a(),n(3,"button",14),c("click",function(){x(l);let i=b();return w(i.alert="")}),u(4,"i",15),a()()}if(t&2){let l=b();s(2),h(l.alert)}}var te=(()=>{let e=class e{get user_name(){return this.formUser.get("user_name")}get email(){return this.formUser.get("email")}close(r){this.errors=this.errors.filter((i,o)=>o!==r)}submit(){this.errors=[],this.formUser.valid?this.auth.signup(this.user_name.value,this.email.value,"").subscribe({next:r=>{console.log(r)},error:r=>{console.error(r),this.errors.push("Error when try to connect")},complete:()=>{this.alert="The data was updated",this.formUser.reset()}}):(this.user_name.errors?.required&&this.errors.push("Add an user name"),this.email.errors?.email&&this.errors.push("Email must be like user@example"),this.email.errors?.required&&this.errors.push("Add an email"))}constructor(r,i,o){this.fb=r,this.imgService=i,this.auth=o,this.user={user_name:"",email:""},this.notifier=new B,this.alert="",this.errors=[],this.formUser=this.fb.group({user_name:["",m.required],email:["",[m.required,m.email]]})}ngOnInit(){this.auth.userData.pipe(R(this.notifier)).subscribe(r=>this.user)}ngOnDestroy(){this.notifier.next(!0),this.notifier.complete()}};e.\u0275fac=function(i){return new(i||e)(d(D),d(J),d(N))},e.\u0275cmp=_({type:e,selectors:[["app-index-users"]],hostAttrs:[1,"flex","flex-wrap","w-full","sm:w-[calc(100%-5rem)]","content-start","mx-auto","px-10","pb-6"],decls:13,vars:4,consts:[[4,"ngFor","ngForOf"],["class","flex justify-between w-full items-center rounded-lg border-4 border-purple text-purple px-8 py-2 my-2",4,"ngIf"],[1,"relative","max-w-sm","bg-white","px-8","pt-5","mx-auto","mt-4","rounded-lg","border-8","border-greenl"],[1,"absolute","w-full","h-full","rounded-lg","border-8","border-purple","z-[-1]"],[1,"pb-6","text-xl","font-semibold","text-greenl"],["id","form-post",1,"pb-6",3,"formGroup","ngSubmit"],["type","text","formControlName","user_name","placeholder","User name",1,"w-full","border-b-4","border-greenl","px-2","py-1","mb-3","outline-none","focus:border-purple"],["type","email","formControlName","email","placeholder","Email",1,"w-full","border-b-4","border-greenl","px-2","py-1","mb-3","outline-none","focus:border-purple"],[1,"relative","w-full"],[1,"absolute","w-full","h-full","rounded-lg","border-4","border-purple","inset-x-[10px]","inset-y-[5px]"],["type","submit",1,"relative","w-full","bg-white","rounded-lg","border-4","border-greenl","px-3","py-2","font-semibold","text-greenl","active:inset-x-[10px]","active:inset-y-[5px]"],[3,"msg","close"],[1,"flex","justify-between","w-full","items-center","rounded-lg","border-4","border-purple","text-purple","px-8","py-2","my-2"],[1,"font-semibold"],["title","close alert",1,"close","bg-white","px-2",3,"click"],["aria-hidden","true",1,"fa","fa-times-circle","text-2xl"]],template:function(i,o){i&1&&(C(0,le,2,1,"ng-container",0)(1,ae,5,1,"div",1),n(2,"section",2),u(3,"div",3),n(4,"h2",4),f(5,"change your data"),a(),n(6,"form",5),c("ngSubmit",function(){return o.submit()}),u(7,"input",6)(8,"input",7),n(9,"div",8),u(10,"div",9),n(11,"button",10),f(12),a()()()()),i&2&&(p("ngForOf",o.errors),s(1),p("ngIf",o.alert),s(5),p("formGroup",o.formUser),s(6),h("SignUp"))},dependencies:[U,z,T,V,I,E,F,A,j]});let t=e;return t})();var me=[{path:"",component:te,canActivate:[P]},{path:"signin",component:Z},{path:"signup",component:re}],ie=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=G({type:e}),e.\u0275inj=q({providers:[P],imports:[k.forChild(me),k]});let t=e;return t})();var Me=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=G({type:e}),e.\u0275inj=q({imports:[$,ie,K,L,H]});let t=e;return t})();export{Me as UsersModule};
